{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\julie\\\\Desktop\\\\M\\\\MERN-Stack\\\\frontend\\\\src\\\\components\\\\CreateUser.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nexport default class CreateUser extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      users: [],\n      username: ''\n    };\n\n    this.getUsers = async () => {\n      const response = await axios.get('http://localhost:4000/api/users');\n      this.setState({\n        users: response.data\n      });\n    };\n\n    this.onChangeUsername = e => {\n      this.setState({\n        username: e.target.value //username sera igual al valor del objeto recibido\n\n      });\n    };\n\n    this.onSubmit = async e => {\n      e.preventDefault(); //Para evitar el comportamiento Default del formulario (que es resetear toda la pag de react)\n\n      await axios.post('http://localhost:4000/api/users', {\n        username: this.state.username\n      });\n      this.setState({\n        username: ''\n      });\n      this.getUsers();\n    };\n\n    this.DeleteUser = async id => {\n      await axios.delete('http://localhost:4000/api/users/' + id);\n    };\n  }\n\n  async componentDidMount() {\n    this.getUsers();\n    console.log(this.state.users);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }\n    }, \"Create New User\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.username,\n      onChange: this.onChangeUsername,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 25\n      }\n    }, \"Save\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"list-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 19\n      }\n    }, this.state.users.map(user => /*#__PURE__*/React.createElement(\"li\", {\n      className: \"list-group-item list-group-item-action\",\n      key: user._id,\n      onDoubleClick: () => this.DeleteUser(user._id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 25\n      }\n    }, user.username)))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/julie/Desktop/M/MERN-Stack/frontend/src/components/CreateUser.js"],"names":["React","Component","axios","CreateUser","state","users","username","getUsers","response","get","setState","data","onChangeUsername","e","target","value","onSubmit","preventDefault","post","DeleteUser","id","delete","componentDidMount","console","log","render","map","user","_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport axios from 'axios'\r\n\r\nexport default class CreateUser extends Component {\r\n    \r\n    state = {\r\n        users: [],\r\n        username: ''\r\n    }\r\n    \r\n    async componentDidMount()\r\n    {\r\n       this.getUsers();\r\n        console.log(this.state.users)\r\n    }\r\n\r\n    getUsers = async () => {\r\n        const response = await axios.get('http://localhost:4000/api/users');\r\n        this.setState({users: response.data});\r\n    }\r\n\r\n    //e = objeto que recibe la funcion\r\n    onChangeUsername = (e) =>\r\n    {\r\n        this.setState({\r\n            username: e.target.value //username sera igual al valor del objeto recibido\r\n        })\r\n    }\r\n\r\n     onSubmit = async e => {\r\n        e.preventDefault(); //Para evitar el comportamiento Default del formulario (que es resetear toda la pag de react)\r\n        await axios.post('http://localhost:4000/api/users', {\r\n            username: this.state.username\r\n        })\r\n        this.setState({username: ''});\r\n        this.getUsers();\r\n    }\r\n\r\n    //Metodo para eliminar un usuario\r\n    DeleteUser = async (id) => {\r\n        await axios.delete('http://localhost:4000/api/users/' +id)\r\n\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <div className= 'row'>\r\n                <div className=\"col-md-4\">\r\n                    <div className=\"card card-body\">\r\n                    <h3>Create New User</h3>\r\n                    <form onSubmit={this.onSubmit}>\r\n                        <div className=\"form-group\">\r\n                            <input type=\"text\" \r\n                            className=\"form-control\"\r\n                            value={this.state.username} \r\n                            onChange={this.onChangeUsername}\r\n                            />\r\n                        </div>\r\n                        <button type=\"submit\" className=\"btn btn-primary\">\r\n                        Save\r\n                        </button>\r\n                    </form>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-md-8\">\r\n                  <ul className=\"list-group\">\r\n                    {\r\n                        this.state.users.map( user =>( \r\n                        <li className=\"list-group-item list-group-item-action\" \r\n                        key={user._id} \r\n                        onDoubleClick={() => this.DeleteUser(user._id)}\r\n                        >\r\n                            {user.username}\r\n                        </li>)\r\n                        )\r\n                    }\r\n                  </ul>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}